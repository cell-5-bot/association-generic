(()=>{"use strict";var n=function(n){if(n)return n;try{return document.location.hostname.match(/[\w]+\.([\w]+|co.uk)$/)[0]}catch(n){return""}};const t=function(n,t){for(var o="".concat(n,"="),e=(t||window.document).cookie.split(";"),a=0;a<e.length;a++){var c=(e[a]||"").trim();if(0===c.indexOf(o))return c.substring(o.length,c.length)}return""},o=function(t,o,e,a){(a||window.document).cookie="".concat(t,"=").concat(o,";Max-Age=").concat(31536e3,";Domain=").concat(n(e),";path=/;Secure;SameSite=None")},e=function(t,o,e){(e||window.document).cookie="".concat(t,"=;Max-Age=0;Domain=").concat(n(o),";path=/;Secure;SameSite=None")},a=function(n,t,o){try{var e=(o||window.localStorage).getItem(n);return t?JSON.parse(e):e}catch(n){return null}},c=function(n,t,o,e){try{o?(e||window.localStorage).setItem(n,JSON.stringify(t)):(e||window.localStorage).setItem(n,t)}catch(n){}},i=function(n,t){try{(t||window.localStorage).removeItem(n)}catch(n){}};var r="opus",d=function(n){for(var t=0,o=0;o<n.length;o++){t=(t<<5)-t+n.charCodeAt(o),t&=t}return new Uint32Array([t])[0].toString(36)};const s=function(){var n=t("A1S");return!!n&&d(n)!==(a(r,!0)||{}).a},u=function(){var n=t("A1S"),o=a(r,!0)||{};o.a=d(n),c(r,o,!0)},l=function(n){var t=document.createElement("iframe");return t.width=t.height=t.frameBorder=0,t.style.cssText="display:none",n&&(t.src=n),document.body.appendChild(t),t};const p=function(n){!function(n){"function"!=typeof window.__gpp?n({msg:"API not found"},!1):window.__gpp("addEventListener",(function(t,o){var e,a;o&&"error"!==(null==t||null===(e=t.pingData)||void 0===e?void 0:e.cmpStatus)?"ready"===(null==t||null===(a=t.pingData)||void 0===a?void 0:a.signalStatus)&&n(t,!0):n({},!1)}))}((function(t,o){!function(n){"function"!=typeof window.__tcfapi?n({msg:"API not found"},!1):window.__tcfapi("addEventListener",2,(function(t,o){o&&"error"!==(null==t?void 0:t.cmpStatus)?"tcloaded"!==(null==t?void 0:t.eventStatus)&&"useractioncomplete"!==(null==t?void 0:t.eventStatus)||n(t,!0):n({},!1)}))}((function(e,a){!function(n){"function"!=typeof window.__uspapi?n({msg:"API not found"},!1):window.__uspapi("getUSPData",null,(function(t,o){o?n(t,!0):n({},!1)}))}((function(c,i){var r,d;n({gpp:{success:o,raw:{gppString:null==t||null===(r=t.pingData)||void 0===r?void 0:r.gppString,applicableSections:(null==t||null===(d=t.pingData)||void 0===d||null===(d=d.applicableSections)||void 0===d?void 0:d.join(","))||"-1"},expanded:null==t?void 0:t.pingData},tcf:{success:a,raw:{tcString:null==e?void 0:e.tcString,gdprApplies:null==e?void 0:e.gdprApplies},expanded:e},usp:{success:i,raw:{uspString:null==c?void 0:c.uspString},expanded:c}},a&&o&&i)}))}))}))};var f="ups.analytics.yahoo.com";const w=function(n,t){try{fetch(n,{headers:{Accept:"application/json"},method:"GET",credentials:"include"}).then((function(n){n&&n.body&&n.body.getReader().read().then((function(n){if(n&&n.value){var o=String.fromCharCode.apply(null,n.value);t(JSON.parse(o))}}))})).catch((function(){t()}))}catch(n){t()}};const g={getAxidsValue:function(n){var o=t("axids");return new URLSearchParams(o).get(n)||""},setAxidsValue:function(n,a){var c=t("axids"),i=new URLSearchParams(c);i.set(n,a);var r=decodeURIComponent(i.toString());r?o("axids",r):e("axids")},deleteAxidsValue:function(n){var a=t("axids"),c=new URLSearchParams(a);c.delete(n);var i=c.toString();i?o("axids",i):e("axids")},syncAxid:function(n,t,o,e,a,c){var i=this,r=this.getAxidsValue(n);if(!e||r&&!a)c();else{var d=function(n){var t=n.tcf.raw.gdprApplies,o=n.tcf.raw.tcString,e=n.usp.raw.uspString,a=n.gpp.raw.gppString,c=n.gpp.raw.applicableSections;return"gdpr=".concat(t,"&gdpr_consent=").concat(o||"","&gpp=").concat(a||"","&gpp_sid=").concat(c||"","&us_privacy=").concat(e)}(e),s="https://".concat(o,"/ups/").concat(t,"/sync?format=json&").concat(d);w(s,(function(t){t&&(t.axid?i.setAxidsValue(n,t.axid):i.deleteAxidsValue(n)),c()}))}}},v=function(){var n,t,o="tsdtocl",e=atob("aHR0cHM6Ly90c2R0b2NsLmNvbQ=="),a={},c=-1;try{var i=function(n){var t;try{t=JSON.parse(n.data)}catch(n){}t&&t.namespace===o&&function(n){a[n.id]&&(a[n.id](n),delete a[n.id])}(t)},r=function(t,e,i,r){if(n){a[++c]=r;var d={namespace:o,id:c,action:t,key:e,value:i};return n&&n.contentWindow&&n.contentWindow.postMessage(JSON.stringify(d),"*"),d}},d=function(n){if(n&&"string"==typeof n&&-1!==n.indexOf("!-#@")){var t=new Image;return t.src="".concat("https:","//trc.taboola.com/sg/taboola-ifs/1/um/?uils=").concat(encodeURIComponent(n)),t}},s=function(t){if(t&&t.success){if(t.wasAppended&&t.value)return d(t.value)}else window.__trcDebug&&window.__trcDebug("ifsDebug=".concat(t?JSON.stringify(t):"null"));n&&n.remove(),window.removeEventListener("message",i,!1)},u=function(){if(t)return function(n,t,o){return r("append",n,t,o)}("ul",t,s)},l=function(){try{return function(n){for(var t="".concat(n,"="),o=document.cookie.split(";"),e=0;e<o.length;e++){for(var a=o[e];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}("tbla_id")}catch(n){return null}},p=function(){var n=window.TFASC&&window.TFASC.tfaUserId&&"function"==typeof window.TFASC.tfaUserId.getUserId?window.TFASC.tfaUserId.getUserId():null,t=window.TRC&&window.TRC.pageManager&&"function"==typeof window.TRC.pageManager.getUserId?window.TRC.pageManager.getUserId():null,o=function(){try{return window.localStorage["taboola global:user-id"]}catch(n){return null}}(),e=l();return n||t||o||e},f=function(t){window.addEventListener("message",i,!1),(n=document.createElement("iframe")).style.display="none",n.addEventListener("load",t),n.src=e,document.body.appendChild(n)};window.TRC=window.TRC||{},window.TRC.ifs=window.TRC.ifs||{},window.TRC.ifs.initialized||((t=p())&&(document.body?f(u):document.addEventListener("DOMContentLoaded",(function(){f(u)}))),window.TRC.ifs.initialized=!0)}catch(o){window.__trcError&&window.__trcError("ifsError",o)}};var m="tbla_id";const S=function(n,a){var c=t(m);n?c?a():w("https://api.taboola.com/1.2/json/taboola-usersync/user.sync?app.type=desktop&app.apikey=e60e3b54fc66bae12e060a4a66536126f26e6cf8",(function(n){n&&(c=n.user.id,e(m,window.location.hostname),o(m,c),v()),a()})):(e(m),a())};var y="opus",h=function(){p((function(n){var o=function(n){if(!n)return{};var t=n.tcf;if(!t||!t.success||"error"===t.expanded.cmpStatus)return{};if("tcloaded"===t.expanded.eventStatus||"useractioncomplete"===t.expanded.eventStatus){var o,e=t.expanded,a=e.gdprApplies,c=e.publisher,i=void 0===c?{customPurpose:{}}:c,r=e.purpose,d=void 0===r?{consents:{}}:r,s=e.vendor,u=void 0===s?{consents:{}}:s,l=!!d.consents[1],p=!!d.consents[4],f=!(null===(o=i.customPurpose)||void 0===o||null===(o=o.consents)||void 0===o||!o[9]),w=!!u.consents[25],g=!!u.consents[42];return{yahoo:!a||l&&p&&(w||f),taboola:!a||l&&p&&(w||f)&&g}}}(n);if(!o.yahoo)return e("axids"),e("tbla_id"),void i("opus");var r,d=s(),p=d||(r=(a(y,!0)||{}).lastSync||0,(Date.now()-r)/864e5>7);if(p){var w=a(y,!0)||{};w.lastSync=Date.now(),c(y,w,!0),u()}g.syncAxid("gam",58784,f,n,p,(function(){g.syncAxid("dv360",58824,f,n,p,(function(){g.syncAxid("ydsp",58831,f,n,p,(function(){var e=window.opusSyncTblaOnAol?"ups.analytics.aol.com":f;g.syncAxid("tbla",58834,e,n,p,(function(){S(o.taboola,(function(){var o=t("tbla_id"),e=t("axids");!function(n,t,o,e,a){var c=n.tcf.raw.gdprApplies,i=n.tcf.raw.tcString,r=n.usp.raw.uspString,d=n.gpp.raw.gppString,s=n.gpp.raw.applicableSections,u="referrer=".concat(encodeURIComponent(window.location.href)),p=o?"&tbla_id=".concat(encodeURIComponent(o)):"",f=e?"&axids=".concat(encodeURIComponent(e)):"",w="&gdpr=".concat(c,"&gdpr_consent=").concat(i||"","&gpp=").concat(d||"","&gpp_sid=").concat(s||"","&us_privacy=").concat(r),g="".concat(p).concat(f),v=t?"&reset_idsync=1":"",m=a?"&sync_tbla_on_aol=1":"",S="".concat("https://opus.analytics.yahoo.com/tag/opus-frame.html","?").concat(u).concat(g).concat(w).concat(v).concat(m);l(S)}(n,d,o,e,window.opusSyncTblaOnAol)}))}))}))}))}))}))};!window.document.documentMode&&("loading"!==document.readyState?h():document.addEventListener("DOMContentLoaded",h))})();